(this.webpackJsonpsquaredup=this.webpackJsonpsquaredup||[]).push([[0],{149:function(e,t,a){e.exports=a(239)},224:function(e,t,a){},227:function(e,t,a){},228:function(e,t,a){},231:function(e,t,a){},232:function(e,t,a){},233:function(e,t,a){},234:function(e,t,a){},235:function(e,t,a){},236:function(e,t,a){},237:function(e,t,a){},238:function(e,t,a){},239:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(17),o=a.n(c),i=a(12),l=a.n(i),s=a(29),u=a(25),m=a(116),h=a(117),p=a(115),f=a(33),w=function(e){return f.b.error(n.createElement("span",null,e))},d=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],v=new(function(){function e(){Object(m.a)(this,e),this.apiName="weatherapi",this.weatherApiPath="/weather",this.weatherLocationApiPath="/location"}return Object(h.a)(e,[{key:"getWeatherData",value:function(){var e=Object(s.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get(this.apiName,this.weatherApiPath,{queryStringParameters:{woeid:t}});case 3:return a=e.sent,e.abrupt("return",{title:a.title,temperature:a.consolidated_weather[0].the_temp,weatherRows:this.parseWeatherData(a.consolidated_weather)});case 7:return e.prev=7,e.t0=e.catch(0),w("Error fetching Weather Data"),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getLocationData",value:function(){var e=Object(s.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get(this.apiName,this.weatherLocationApiPath,{queryStringParameters:{location:t}});case 3:return a=e.sent,e.abrupt("return",a);case 7:return e.prev=7,e.t0=e.catch(0),w("Error fetching Weather Data"),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"parseWeatherData",value:function(e){return e.map((function(e){return{day:d[new Date(e.applicable_date).getDay()],max_temperature:e.max_temp,min_temperature:e.min_temp,stateAbbreviation:e.weather_state_abbr,state:e.weather_state_name}}))}}]),e}()),g=a(288),E=(a(224),function(){return r.a.createElement("div",{className:"progress-container"},r.a.createElement(g.a,{className:"progress-indicator",color:"primary"}))}),b=(a(227),a(290)),y=a(135),C=a.n(y),N=(a(228),function(e){var t=e.currentWoeid,a=e.onChangeLocation;return r.a.createElement("div",{className:"float-close"},-1!==t&&r.a.createElement(b.a,{color:"default","aria-label":"close",onClick:a},r.a.createElement(C.a,{htmlColor:"rgb(101, 123, 61)"})))}),L=function(){var e=r.a.useState(-1),t=Object(u.a)(e,2),a=t[0],n=t[1],c=r.a.useState([]),o=Object(u.a)(c,2),i=o[0],m=o[1],h=r.a.useState(-1),p=Object(u.a)(h,2),f=p[0],w=p[1],d=r.a.useState(""),g=Object(u.a)(d,2),b=g[0],y=g[1];r.a.useEffect((function(){var e=localStorage.getItem("woeid");e&&n(parseInt(e)),Object(s.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(-1===a){e.next=5;break}return e.next=3,v.getWeatherData(a);case 3:null!==(t=e.sent)&&(w(t.temperature),y(t.title),null!==t.weatherRows&&m(t.weatherRows));case 5:case"end":return e.stop()}}),e)})))()}),[a]);var C=function(e){localStorage.setItem("woeid",e.toString()),n(e)},L=function(){localStorage.removeItem("woeid"),n(-1),m([])};return r.a.createElement("div",{className:"container"},r.a.createElement(N,{currentWoeid:a,onChangeLocation:function(){L()}}),r.a.createElement(z,{weatherRows:i,temperature:f}),r.a.createElement(M,null,-1===a?r.a.createElement(B,{onChooseLocation:C}):i&&i.length>0?r.a.createElement(R,{title:b,weatherRows:i}):r.a.createElement(E,null)))},x=a(293),_=a(297),S=a(296),k=a(291),O=a(294),j=a(295),D=a(292),W=(a(231),function(e){var t=e.weatherRows;return r.a.createElement(k.a,{className:"table-container",component:D.a},r.a.createElement(x.a,{size:"small","aria-label":"a dense table"},r.a.createElement(O.a,null,r.a.createElement(j.a,null,r.a.createElement(S.a,null,"Day"),r.a.createElement(S.a,{align:"right"},"Max Temp"),r.a.createElement(S.a,{align:"right"},"Min Temp"),r.a.createElement(S.a,{align:"right"},"State"))),r.a.createElement(_.a,null,t.map((function(e){return r.a.createElement(j.a,{key:e.day},r.a.createElement(S.a,{component:"th",scope:"row"},e.day),r.a.createElement(S.a,{align:"right"},Math.round(e.max_temperature)),r.a.createElement(S.a,{align:"right"},Math.round(e.min_temperature)),r.a.createElement(S.a,{align:"right"},r.a.createElement("img",{alt:e.state,width:"20em",src:"https://www.metaweather.com/static/img/weather/".concat(e.stateAbbreviation,".svg")})))})))))}),R=(a(232),function(e){var t=e.title,a=e.weatherRows;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"weather-info-container--title"},t),r.a.createElement(W,{weatherRows:a}))}),M=(a(233),function(e){var t=e.children;return r.a.createElement("div",{className:"weather-info-wrapper"},r.a.createElement("div",{className:"weather-svg-container"},r.a.createElement("svg",{className:"weather-info-svg-curves",viewBox:"0 0 1440 300"},r.a.createElement("path",{className:"weather-info-svg-curves--transparent",fill:"#fff",fillOpacity:"1",opacity:"0.2",transform:"scale (-1, 1) translate(0, -30)","transform-origin":"center",d:"M0,32L48,80C96,128,192,224,288,224C384,224,480,128,576,90.7C672,53,768,75,864,96C960,117,1056,139,1152,149.3C1248,160,1344,160,1392,160L1440,160L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"}),r.a.createElement("path",{fill:"#fff",fillOpacity:"1","transform-origin":"center",d:"M0,32L48,80C96,128,192,224,288,224C384,224,480,128,576,90.7C672,53,768,75,864,96C960,117,1056,139,1152,149.3C1248,160,1344,160,1392,160L1440,160L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"}))),r.a.createElement("div",{className:"weather-info-container"},t))}),A=function(e){var t=e.weatherStateName,a=e.temperature;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"weather-illistration--state-name"},t),r.a.createElement("div",{className:"weather-illistration--temperature"},a,"\xb0"))},P=a(298),I=a(301),q=(a(234),function(e){var t=e.weatherLocations,a=e.onChooseLocation;return r.a.createElement(P.a,{className:"locations-list"},t.map((function(e){return r.a.createElement(I.a,{component:"a",button:!0,key:e.latt_long,onClick:function(){return a(e.woeid)}},e.title)})))}),F=a(136),T=a.n(F),B=(a(235),function(e){var t=e.onChooseLocation,a=r.a.useState([]),n=Object(u.a)(a,2),c=n[0],o=n[1],i=r.a.useState(!1),m=Object(u.a)(i,2),h=m[0],p=m[1],f=r.a.useState(""),w=Object(u.a)(f,2),d=w[0],g=w[1],b=T()(function(){var e=Object(s.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.getLocationData(t);case 2:null!==(a=e.sent)&&o(a),p(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),200),y=function(){var e=Object(s.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p(!0),a=t.target.value,g(a),0!==a.length){e.next=7;break}return o([]),p(!1),e.abrupt("return");case 7:return e.next=9,b(a);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"locations-container"},r.a.createElement("input",{className:"locations-input",type:"text",placeholder:"Search",onChange:y,autoFocus:!1}),!!c&&r.a.createElement("div",{className:"locations-instructions-text"},"Enter a City to display weather data."),h&&r.a.createElement(E,null),c&&c.length>0&&r.a.createElement(q,{weatherLocations:c,onChooseLocation:function(e){t(e),o([])}}),d.length>0&&c&&0===c.length&&!h&&r.a.createElement("div",null,"No results found."))}),z=(a(236),function(e){var t=e.weatherRows,a=e.temperature;return t&&0===t.length?null:r.a.createElement("div",{className:"weather-illistration"},t&&t.length>0&&r.a.createElement(A,{weatherStateName:t[0].state,temperature:Math.round(a)}))}),J=a(299),Z=a(139),$=a(138),G=a.n($),H=a(137),K=a.n(H),Q=(a(237),Object(Z.a)({palette:{primary:K.a,secondary:G.a}}));function U(){return r.a.createElement("div",{className:"App"},r.a.createElement(J.a,{theme:Q},r.a.createElement(f.a,{autoClose:5e3}),r.a.createElement(L,null)))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var V=a(68),X={aws_project_region:"eu-west-2",aws_cloud_logic_custom:[{name:"weatherapi",endpoint:"https://o2pd91igpf.execute-api.eu-west-2.amazonaws.com/dev",region:"eu-west-2"}]};a(238);V.default.configure(X),o.a.render(r.a.createElement(U,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[149,1,2]]]);
//# sourceMappingURL=main.b13415fa.chunk.js.map